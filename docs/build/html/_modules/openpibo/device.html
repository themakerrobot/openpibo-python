<!DOCTYPE html>
<html class="writer-html5" lang="ko" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>openpibo.device &mdash; OPENPIBO 0.9.2.70 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/mycss.css" type="text/css" />
    <link rel="canonical" href="https://themakerrobot.github.io/openpibo-python/_modules/openpibo/device.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="색인" href="../../genindex.html" />
    <link rel="search" title="검색" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> OPENPIBO
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../notes/software.html">소프트웨어</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notes/hardware.html">하드웨어</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/audio.html">audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/collect.html">collect</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/device.html">device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/motion.html">motion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/oled.html">oled</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/speech.html">speech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/vision.html">vision</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OPENPIBO</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">모듈 코드</a> &raquo;</li>
      <li>openpibo.device</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for openpibo.device</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">MCU를 제어하여, 부품을 제어합니다.</span>

<span class="sd">Class:</span>
<span class="sd">:obj:`~openpibo.device.Device`</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">serial</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Lock</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">urllib</span>

<div class="viewcode-block" id="Device"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device">[문서]</a><span class="k">class</span> <span class="nc">Device</span><span class="p">:</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Functions:</span>
<span class="sd">:data:`~openpibo.device.Device.code_list`</span>
<span class="sd">:meth:`~openpibo.device.Device.send_cmd`</span>
<span class="sd">:meth:`~openpibo.device.Device.send_raw`</span>
<span class="sd">:meth:`~openpibo.device.Device.eye_on`</span>
<span class="sd">:meth:`~openpibo.device.Device.eye_on_s`</span>
<span class="sd">:meth:`~openpibo.device.Device.eye_off`</span>
<span class="sd">:meth:`~openpibo.device.Device.get_battery`</span>
<span class="sd">:meth:`~openpibo.device.Device.get_dc`</span>
<span class="sd">:meth:`~openpibo.device.Device.get_system`</span>
<span class="sd">:meth:`~openpibo.device.Device.get_pir`</span>
<span class="sd">:meth:`~openpibo.device.Device.get_touch`</span>
<span class="sd">:meth:`~openpibo.device.Device.get_button`</span>

<span class="sd">  메인컨트롤러를 제어하여 파이보의 여러가지 상태를 체크하거나, 눈 색깔을 변경합니다.</span>

<span class="sd">  example::</span>

<span class="sd">    from openpibo.device import Device</span>

<span class="sd">    device = Device()</span>
<span class="sd">    # 아래의 모든 예제 이전에 위 코드를 먼저 사용합니다.</span>

<span class="sd">  메시지 상세 설명::</span>

<span class="sd">    * VERSION(10): 파이보의 버전을 출력합니다.</span>

<span class="sd">      * msg: &#39;#10:!&#39;</span>
<span class="sd">      * result: 버전정보 (예: &#39;10:FWN200312A&#39;)</span>

<span class="sd">    * HALT(11): 파이보를 종료합니다.</span>

<span class="sd">      * msg: &#39;#11:!&#39;</span>
<span class="sd">      * result: &#39;ok&#39;</span>

<span class="sd">    * DC_CONN(14): 파이보의 충전기 연결 여부를 확인합니다.</span>

<span class="sd">      * msg: &#39;#14:!&#39;</span>
<span class="sd">      * result: &#39;14:on&#39;</span>
<span class="sd">        * ``on``: 연결 되어있음</span>
<span class="sd">        * ``off``: 연결 되어있지 않음</span>

<span class="sd">    * BATTERY(15): 파이보의 배터리 잔량을 확인합니다.</span>

<span class="sd">      * msg: &#39;#15:!&#39;</span>
<span class="sd">      * result: 배터리 잔량 정보 (예: &#39;15:100%&#39;)</span>

<span class="sd">    * REBOOT(17): 설정 초기화 (Not use) </span>

<span class="sd">      * msg: &#39;#17:!&#39;</span>
<span class="sd">      * result: &#39;ok&#39;</span>

<span class="sd">    * NEOPIXEL(20): 파이보의 눈(네오픽셀) 색을 변경합니다. - 양쪽 동일하게 설정</span>

<span class="sd">      * msg: &#39;#20:255,255,255!&#39;</span>
<span class="sd">      * data: 네오픽셀 색 R,G,B (&#39;R,G,B&#39;) (예: &#39;255,255,255&#39;)</span>
<span class="sd">        * &#39;R,G,B&#39; 의 포맷으로 입력</span>
<span class="sd">        * 각 R, G, B는 0~255 정수</span>
<span class="sd">      * result: &#39;ok&#39;</span>

<span class="sd">    * NEOPIXEL_FADE(21): 파이보의 눈(네오픽셀) 색을 천천히 변경합니다. - 양쪽 동일하게 설정</span>

<span class="sd">      * msg: &#39;#21:255,255,255,10!&#39;</span>
<span class="sd">      * data: 네오픽셀 색 R,G,B와 색 변경 속도 d (&#39;R,G,B,d&#39;) (예: &#39;255,255,255,10&#39;)</span>
<span class="sd">        * &#39;R,G,B,d&#39; 의 포맷으로 입력</span>
<span class="sd">        * 각 R, G, B는 0~255 정수</span>
<span class="sd">        * d는 색상 단위 변화 1당 걸리는 시간으로, 단위는 ms</span>
<span class="sd">      * result: &#39;ok&#39;</span>

<span class="sd">    * NEOPIXEL_BRIGHTNESS(22): 파이보의 눈(네오픽셀) 밝기를 조절합니다.</span>

<span class="sd">      * msg: &#39;#22:64!&#39;</span>
<span class="sd">      * data: 네오픽셀 밝기 (예: 64)</span>
<span class="sd">        * 0~255 정수</span>
<span class="sd">        * 기본값: 64</span>
<span class="sd">      * result: &#39;ok&#39;</span>

<span class="sd">    * NEOPIXEL_EACH(23): 파이보의 양쪽 눈(네오픽셀) 색을 각각 변경합니다. - 양쪽 각각 설정</span>

<span class="sd">      * msg: &#39;#23:255,255,255,255,255,255!&#39;</span>
<span class="sd">      * data: 왼쪽 네오픽셀 색 R,G,B와 오른쪽 네오픽셀 색 R,G,B (&#39;R,G,B,R,G,B&#39;) (예: &#39;255,255,255,255,255,255&#39;)</span>
<span class="sd">        * &#39;R,G,B,R,G,B&#39; 의 포맷으로 입력</span>
<span class="sd">        * 각 R, G, B는 0~255 정수</span>
<span class="sd">      * result: &#39;ok&#39;</span>

<span class="sd">    * NEOPIXEL_FADE_EACH(24): 파이보의 양쪽 눈(네오픽셀) 색을 각각 천천히 변경합니다.</span>

<span class="sd">      * msg: &#39;#24:255,255,255,255,255,255,10!&#39;</span>
<span class="sd">      * data: 왼쪽 네오픽셀 색 R,G,B와 오른쪽 네오픽셀 색 R,G,B와 색 변화 속도 d (&#39;R,G,B,R,G,B,d&#39;) (예: &#39;255,255,255,255,255,255,10&#39;)</span>
<span class="sd">        * &#39;R,G,B,R,G,B&#39; 의 포맷으로 입력</span>
<span class="sd">        * 각 R, G, B는 0~255 정수</span>
<span class="sd">        * d는 색상 단위 변화 1당 걸리는 시간으로, 단위는 ms</span>
<span class="sd">      * result: &#39;ok&#39;</span>

<span class="sd">    * NEOPIXEL_LOOP(25): 파이보의 눈(네오픽셀) 색을 무지개색으로 일정시간동안 변경합니다.</span>

<span class="sd">      * msg: &#39;#25:10!&#39;</span>
<span class="sd">      * data: 색 변화 속도 d (예: 10)</span>
<span class="sd">        * d는 색상 단위 변화 1당 걸리는 시간으로, 단위는 ms</span>
<span class="sd">      * result: &#39;ok&#39;</span>

<span class="sd">    * NEOPIXEL_OFFSET_SET(26): 파이보의 눈(네오픽셀) 색의 초기 설정</span>

<span class="sd">      * msg: &#39;#26:255,255,255,255,255,255!&#39;</span>
<span class="sd">      * data: 왼쪽 네오픽셀 오프셋 R,G,B와 오른쪽 네오픽셀 오프셋 R,G,B (&#39;R,G,B,R,G,B&#39;) (예: &#39;255,255,255,255,255,255&#39;)</span>
<span class="sd">        * &#39;R,G,B,R,G,B&#39; 의 포맷으로 입력</span>
<span class="sd">        * 각 R, G, B는 0~255 정수</span>
<span class="sd">      * result: &#39;ok&#39;</span>

<span class="sd">    * NEOPIXEL_OFFSET_GET(27): 파이보의 눈(네오픽셀) 오프셋 정보를 반환합니다.</span>

<span class="sd">      * msg: &#39;#27:255,255,255,255,255,255!&#39;</span>
<span class="sd">      * data: 네오픽셀 오프셋 정보 (예: &#39;27:255,255,255,255,255,255&#39;)</span>
<span class="sd">      * result: -</span>

<span class="sd">    * NEOPIXEL_EACH_ORG(28): 파이보의 양쪽 눈(네오픽셀) 색을 각각 변경합니다. 단, 오프셋의 영향을 받지 않습니다.</span>

<span class="sd">      * msg: &#39;#28:255,255,255,255,255,255!&#39;</span>
<span class="sd">      * data: 왼쪽 네오픽셀 색 R,G,B와 오른쪽 네오픽셀 색 R,G,B (&#39;R,G,B,R,G,B&#39;) (예: &#39;255,255,255,255,255,255&#39;)</span>
<span class="sd">        * &#39;R,G,B,R,G,B&#39; 의 포맷으로 입력</span>
<span class="sd">        * 각 R, G, B는 0~255 정수</span>
<span class="sd">      * result: &#39;ok&#39;</span>

<span class="sd">    * PIR(30): PIR 센서를 켜고 끕니다.</span>

<span class="sd">      * msg: &#39;#30:on!&#39;</span>
<span class="sd">      * data: PIR 센서의 활성화 여부 (예: &#39;on&#39;)</span>
<span class="sd">        * ``on`` : PIR 센서를 켭니다.</span>
<span class="sd">        * ``off`` : PIR 센서를 끕니다.</span>
<span class="sd">      * result: &#39;ok&#39;</span>

<span class="sd">    * SYSTEM(40): 각종 시스템 정보를 출력합니다.</span>

<span class="sd">      * msg: &#39;#40:!&#39;</span>
<span class="sd">      * data: -</span>
<span class="sd">      * result: 아래의 정보가 모두 출력됩니다.</span>
<span class="sd">        * PIR 감지:</span>
<span class="sd">          * ``person`` : PIR센서가 적외선의 변화를 감지할 때 출력됩니다.</span>
<span class="sd">          * ``nobody`` : ``person`` 출력 후 2초간 적외선의 변화가 없을 때 1회 출력됩니다.</span>
<span class="sd">          * ``-`` : 적외선의 변화가 감지되지 않을 때 또는 PIR센서가 비활성화 상태일 때 출력됩니다.</span>
<span class="sd">        * Touch 감지:</span>
<span class="sd">          * ``touch`` : 터치센서 감지 시 출력됩니다.</span>
<span class="sd">          * ``-`` : 터치센서 감지가 안되면 출력됩니다.</span>
<span class="sd">        * DC잭 연결감지:</span>
<span class="sd">          * ``on`` : DC잭 감지 시 1회 출력됩니다. 이후 ``-`` 가 출력됩니다.</span>
<span class="sd">          * ``off`` : DC잭 감지 해제시 1회 출력됩니다. 이후 ``-`` 가 출력됩니다.</span>
<span class="sd">          * ``-`` : DC잭 신호의 변화가 없을 때 출력됩니다.</span>
<span class="sd">        * 버튼 감지:</span>
<span class="sd">          * ``on`` : 전원 버튼 누름 감지 시 출력됩니다.</span>
<span class="sd">          * ``-`` : 전원 버튼 누름 감지가 안되면 출력됩니다.</span>
<span class="sd">        * 시스템리셋: 현재 지원되지 않습니다.</span>
<span class="sd">        * 전원종료: 현재 지원되지 않습니다.</span>
<span class="sd">  &quot;&quot;&quot;</span>

  <span class="n">code_list</span> <span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;VERSION&quot;</span>               <span class="p">:</span><span class="s2">&quot;10&quot;</span><span class="p">,</span>
    <span class="s2">&quot;HALT&quot;</span>                  <span class="p">:</span><span class="s2">&quot;11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;DC_CONN&quot;</span>               <span class="p">:</span><span class="s2">&quot;14&quot;</span><span class="p">,</span>
    <span class="s2">&quot;BATTERY&quot;</span>               <span class="p">:</span><span class="s2">&quot;15&quot;</span><span class="p">,</span>
    <span class="s2">&quot;REBOOT&quot;</span>                <span class="p">:</span><span class="s2">&quot;17&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NEOPIXEL&quot;</span>              <span class="p">:</span><span class="s2">&quot;20&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NEOPIXEL_FADE&quot;</span>         <span class="p">:</span><span class="s2">&quot;21&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NEOPIXEL_BRIGHTNESS&quot;</span>   <span class="p">:</span><span class="s2">&quot;22&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NEOPIXEL_EACH&quot;</span>         <span class="p">:</span><span class="s2">&quot;23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NEOPIXEL_FADE_EACH&quot;</span>    <span class="p">:</span><span class="s2">&quot;24&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NEOPIXEL_LOOP&quot;</span>         <span class="p">:</span><span class="s2">&quot;25&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NEOPIXEL_OFFSET_SET&quot;</span>   <span class="p">:</span><span class="s2">&quot;26&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NEOPIXEL_OFFSET_GET&quot;</span>   <span class="p">:</span><span class="s2">&quot;27&quot;</span><span class="p">,</span>
    <span class="s2">&quot;NEOPIXEL_EACH_ORG&quot;</span>     <span class="p">:</span><span class="s2">&quot;28&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PIR&quot;</span>                   <span class="p">:</span><span class="s2">&quot;30&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SYSTEM&quot;</span>                <span class="p">:</span><span class="s2">&quot;40&quot;</span><span class="p">,</span>
  <span class="p">}</span>
   
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">80</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Device 클래스를 초기화합니다.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">api_mode</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">dev</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">Serial</span><span class="p">(</span><span class="n">port</span><span class="o">=</span><span class="s2">&quot;/dev/ttyS0&quot;</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">9600</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">lock</span> <span class="o">=</span> <span class="n">Lock</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">api_mode</span> <span class="o">=</span> <span class="n">api_mode</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="n">port</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">code_val_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">Device</span><span class="o">.</span><span class="n">code_list</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>

<div class="viewcode-block" id="Device.send_cmd"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device.send_cmd">[문서]</a>  <span class="k">def</span> <span class="nf">send_cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Device에 메시지 코드/데이터를 전송합니다. 입력된 메시지는 ``#code:data!`` 의 포맷으로 변경되어 전달됩니다.</span>
<span class="sd">    메시지 상세 설명은 위에서 확인할 수 있습니다.</span>

<span class="sd">    example::</span>

<span class="sd">      device.send_cmd(20, &#39;255,255,255&#39;)</span>

<span class="sd">    :param str or int code: 메시지 코드</span>

<span class="sd">      * 10 : VERSION</span>
<span class="sd">      * 11 : HALT</span>
<span class="sd">      * 14 : DC_CONN</span>
<span class="sd">      * 15 : BATTERY</span>
<span class="sd">      * 17 : REBOOT</span>
<span class="sd">      * 20 : NEOPIXEL</span>
<span class="sd">      * 21 : NEOPIXEL_FADE</span>
<span class="sd">      * 22 : NEOPIXEL_BRIGHTNESS</span>
<span class="sd">      * 23 : NEOPIXEL_EACH</span>
<span class="sd">      * 24 : NEOPIXEL_FADE_EACH</span>
<span class="sd">      * 25 : NEOPIXEL_LOOP</span>
<span class="sd">      * 26 : NEOPIXEL_OFFSET_SET</span>
<span class="sd">      * 27 : NEOPIXEL_OFFSET_GET</span>
<span class="sd">      * 28 : NEOPIXEL_EACH_ORG</span>
<span class="sd">      * 30 : PIR</span>
<span class="sd">      * 40 : SYSTEM</span>

<span class="sd">    :param str data: 메시지</span>

<span class="sd">      ``code`` 의 값에 따라 데이터의 형식이 다릅니다. code에 따라 data가 요구되지 않을 수도 있습니다.</span>

<span class="sd">      example::</span>

<span class="sd">        device.send_cmd(20, &#39;255,255,255&#39;)</span>
<span class="sd">        device.send_cmd(21, &#39;255,255,255,10&#39;)</span>
<span class="sd">        device.send_cmd(22, &#39;64&#39;)</span>
<span class="sd">        device.send_cmd(23, &#39;255,255,255,255,255,255&#39;)</span>
<span class="sd">        device.send_cmd(24, &#39;255,255,255,255,255,255,10&#39;)</span>
<span class="sd">        device.send_cmd(25, &#39;2&#39;)</span>
<span class="sd">        device.send_cmd(26, &#39;255,255,255,255,255,255&#39;)</span>
<span class="sd">        device.send_cmd(28, &#39;255,255,255,255,255,255&#39;)</span>
<span class="sd">        device.send_cmd(30, &#39;on&#39;)</span>

<span class="sd">      **자세한 설명은 상단 &quot;메시지 상세 설명&quot; 참고하시기 바랍니다**</span>

<span class="sd">    :returns str: Device로부터 받은 응답</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">(</span><span class="n">code</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">code_val_list</span><span class="p">:</span>
      <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s1">&quot; not support&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s2">&quot;#</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">data</span><span class="p">))</span></div>

<div class="viewcode-block" id="Device.send_raw"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device.send_raw">[문서]</a>  <span class="k">def</span> <span class="nf">send_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Device에 실제 메시지를 전송하고 응답을 받습니다.</span>
<span class="sd">    메시지 상세 설명은 위에서 확인할 수 있습니다.</span>

<span class="sd">    example::</span>

<span class="sd">      device.send_raw(&#39;#20:255,255,255!&#39;)</span>
<span class="sd">      device.send_raw(&#39;#22:64!&#39;)</span>

<span class="sd">    :param str raw: 실제 전달되는 메시지</span>

<span class="sd">      Device에 전송되는 메시지의 포맷은 ``#code:data!`` 입니다.</span>
<span class="sd">      해당 메시지를 메인 컨트롤러에 전송합니다.</span>

<span class="sd">      **자세한 설명은 상단 &quot;메시지 상세 설명&quot; 참고하시기 바랍니다**</span>

<span class="sd">    :returns: Device로부터 받은 응답</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># if self.lock.locked() == True:</span>
    <span class="c1">#  return False</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_mode</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span> <span class="c1"># RESTAPI 모드</span>
      <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;http://0.0.0.0:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">/device/</span><span class="si">{</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dev</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">raw</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

    <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
      <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dev</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
      <span class="k">if</span> <span class="n">ch</span> <span class="o">==</span> <span class="s1">&#39;#&#39;</span> <span class="ow">or</span> <span class="n">ch</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\r</span><span class="s1">&#39;</span> <span class="ow">or</span> <span class="n">ch</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
        <span class="k">continue</span>
      <span class="k">if</span> <span class="n">ch</span> <span class="o">==</span> <span class="s1">&#39;!&#39;</span><span class="p">:</span>
        <span class="k">break</span>
      <span class="n">data</span> <span class="o">+=</span> <span class="n">ch</span>

    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">data</span></div>

<div class="viewcode-block" id="Device.eye_on"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device.eye_on">[문서]</a>  <span class="k">def</span> <span class="nf">eye_on</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">color</span><span class="p">,</span> <span class="n">intv</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    LED를 켭니다.</span>

<span class="sd">    example::</span>

<span class="sd">      device.eye_on(255,0,0)	# 양쪽 눈 제어</span>
<span class="sd">      device.eye_on(0,255,0,0,0,255) # 양쪽 눈 각각 제어</span>

<span class="sd">    :param color:</span>

<span class="sd">      * RGB (0~255 숫자)</span>
<span class="sd">      * (R, G, B) -&gt; 양쪽 눈 함께 제어</span>
<span class="sd">      * (R,G,B,R,G,B) -&gt; 양쪽 눈 각각 제어</span>

<span class="sd">    :param intv:</span>

<span class="sd">      * interval (RGB 값이 1씩 바뀌는 시간)</span>
<span class="sd">      * 0 이면 off</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;color is required&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
      <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;len(</span><span class="si">{</span><span class="n">color</span><span class="si">}</span><span class="s2">) must be 3 or 6&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">color</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mi">255</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;All color must be 0~255&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">intv</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;20&#39;</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span> <span class="k">else</span> <span class="s1">&#39;23&#39;</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;#</span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">color</span><span class="p">)</span><span class="si">}</span><span class="s1">!&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;21&#39;</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span> <span class="k">else</span> <span class="s1">&#39;24&#39;</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;#</span><span class="si">{</span><span class="n">code</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">color</span><span class="p">)</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="n">intv</span><span class="si">}</span><span class="s1">!&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Device.eye_on_s"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device.eye_on_s">[문서]</a>  <span class="k">def</span> <span class="nf">eye_on_s</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">intv</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    LED를 켭니다.</span>

<span class="sd">    example::</span>

<span class="sd">      device.eye_on_s([&#39;#ffffff&#39;, &#39;#ffffff&#39;])	# 양쪽 눈 제어</span>

<span class="sd">    :param colors:</span>

<span class="sd">      * RGB 16진수 문자 리스트 [&#39;#ffffff&#39;, &#39;#ffffff&#39;]</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span> <span class="mi">16</span><span class="p">))</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">],</span> <span class="mi">16</span><span class="p">))</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">],</span> <span class="mi">16</span><span class="p">))</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span> <span class="mi">16</span><span class="p">))</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">],</span> <span class="mi">16</span><span class="p">))</span>
    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">],</span> <span class="mi">16</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">intv</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;#23:</span><span class="si">{</span><span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">data</span><span class="p">)</span><span class="si">}</span><span class="s1">!&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;#24:</span><span class="si">{</span><span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">data</span><span class="p">)</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="n">intv</span><span class="si">}</span><span class="s1">!&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Device.eye_off"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device.eye_off">[문서]</a>  <span class="k">def</span> <span class="nf">eye_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    LED를 끕니다.</span>

<span class="sd">    example::</span>

<span class="sd">      device.eye_off()</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#20:0,0,0!&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Device.get_battery"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device.get_battery">[문서]</a>  <span class="k">def</span> <span class="nf">get_battery</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    배터리 정보를 요청합니다.</span>

<span class="sd">    example::</span>

<span class="sd">      device.get_battery()</span>

<span class="sd">    :param v: 값만 가져올지 메시지 전체를 가져올지 선택</span>

<span class="sd">    :returns: 배터리 정보 응답</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#15:!&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="kc">False</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#15:!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span></div>
  
<div class="viewcode-block" id="Device.get_dc"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device.get_dc">[문서]</a>  <span class="k">def</span> <span class="nf">get_dc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    DC커넥터 정보를 요청합니다.</span>

<span class="sd">    example::</span>

<span class="sd">      device.get_dc()</span>

<span class="sd">    :param v: 값만 가져올지 메시지 전체를 가져올지 선택</span>

<span class="sd">    :returns: DC커넥터 연결 정보 응답</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#14:!&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="kc">False</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#14:!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="Device.get_system"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device.get_system">[문서]</a>  <span class="k">def</span> <span class="nf">get_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    시스템 메시지를 요청합니다.</span>

<span class="sd">    example::</span>

<span class="sd">      device.get_system()</span>

<span class="sd">    :param v: 값만 가져올지 메시지 전체를 가져올지 선택</span>

<span class="sd">    :param name: 가져올 값 선택 (&#39;pir&#39;|&#39;touch&#39;|&#39;dc&#39;|&#39;button&#39;|&#39;all&#39;)</span>

<span class="sd">    :returns: 시스템 메시지 정보 응답 (pir-touch-dc-button) </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#40:!&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="kc">False</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#40:!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="Device.get_pir"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device.get_pir">[문서]</a>  <span class="k">def</span> <span class="nf">get_pir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    시스템 메시지를 요청합니다. (pir)</span>

<span class="sd">    example::</span>

<span class="sd">      device.get_pir()</span>

<span class="sd">    :returns: 시스템 메시지 정보 응답에서 pir 값 추출</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#40:!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="Device.get_touch"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device.get_touch">[문서]</a>  <span class="k">def</span> <span class="nf">get_touch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    시스템 메시지를 요청합니다. (touch)</span>

<span class="sd">    example::</span>

<span class="sd">      device.get_touch()</span>

<span class="sd">    :returns: 시스템 메시지 정보 응답에서 touch 값 추출</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#40:!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="Device.get_button"><a class="viewcode-back" href="../../libraries/device.html#openpibo.device.Device.get_button">[문서]</a>  <span class="k">def</span> <span class="nf">get_button</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    시스템 메시지를 요청합니다. (button)</span>

<span class="sd">    example::</span>

<span class="sd">      device.get_button()</span>

<span class="sd">    :returns: 시스템 메시지 정보 응답에서 button 값 추출</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#40:!&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span></div></div>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
  <span class="n">device</span> <span class="o">=</span> <span class="n">Device</span><span class="p">()</span>

  <span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">device</span><span class="o">.</span><span class="n">eye_on</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
  <span class="nb">print</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">device</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#21:0,0,255,10&#39;</span><span class="p">))</span>
  <span class="nb">print</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">device</span><span class="o">.</span><span class="n">get_battery</span><span class="p">())</span>
  <span class="nb">print</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">device</span><span class="o">.</span><span class="n">get_dc</span><span class="p">())</span>
  <span class="nb">print</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">device</span><span class="o">.</span><span class="n">get_system</span><span class="p">())</span>
  <span class="nb">print</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">device</span><span class="o">.</span><span class="n">send_raw</span><span class="p">(</span><span class="s1">&#39;#40:!&#39;</span><span class="p">))</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024 THEMAKER. All rights reserved. openpibo-python-0.9.2.70.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>